[![Review Assignment Due Date](https://classroom.github.com/assets/deadline-readme-button-24ddc0f5d75046c5622901739e7c5dd533143b0c8e959d652212380cedb1ea36.svg)](https://classroom.github.com/a/v5xJqiQ7)

## Introduction

In this Assignment, you will make a complete (if modest) MPA web application, in particular a simple Wiki.

You should use Node, Express, and EJS (and HTML).  You may use CSS to make it nice if you like.

This Assignment is worth 5% of your final grade.


## Due Date

This Assignment is due on Sunday, February 4th, at 11:59pm.

## Submission

You presumably got this assignment via GitHub Classroom.

To submit, simply commit and push to your private repo that was created by GitHub Classroom.

There will be a Quiz in D2L for you to enter your GitHub Account Name, so that I can figure out which Assignment to give you credit for.  Make sure you do the quiz.



## Getting Set Up

I am not giving you starter code for this assignment, because I want you to have the experience of turning an empty directory into a working web app.

You'll need to:

* `npm init` (or use yarn I don't care)
* `npm install nodemon express body-parser ejs` and any other modules you need
* copy the express.js Hello World file, put it in a file called `index.js` please (IMPORTANT FOR GRADING)
* make `npm run dev` work in a useful way (IMPORTANT FOR GRADING)
* get body-parser working (import, app.use) and the same for `express.static` if you need it
* get express set up to use EJS for the view engine
* create directories for views, and if necessary for static, etc, and make sure those directory names match your express setup
* this should all get you to a working hello world, plus static, body-parser, and EJS



## A note about HTML and CSS

I expect you to write correct HTML, including any HTML that you write by hand, and including the HTML generated by your EJS.  I'm not talking about really high standards, but at least correctly close all the tags that need closing, please.

And you don't really need to write much CSS for this, maybe none at all.  (Although the default textarea size is a big small, I'd adjust that.)  I dunno, do whatever you think best.


## A note about XSS

In order for some of the requirements to make sense, in this app I will *not* be concerned with security, including XSS.  That will change for the next Assignment.


## Intellectual Honesty

This Assignment is to be solo work.  (This the same as all Assignments and Exams in this class, but unlike the Labs.)  You may not ask any other living human for help on this Assignment, other than me.  Not in Discord, not in person, not a paid tutor, not phoning your mom.  You may not help any other student, nor publish this assignment so that others can read it, nor publish your answers.

You are welome to use any resource that you find online that existed before you got the assignment, for example Google, Stack Overflow, MDN, or even the sites that I think are crappy.  You may use bad AI, good AI, evil AI, AI that you paid for, free AI, AI that you created yourself, etc....  but I strongly *recommend* that you be mindful about how much of your thinking you let AI do for you.

If you are not sure if you are crossing a line, you should ask me.  But not in the 48h before it's due.

ALSO, if you are using a lot of code from some particular online source, you can ensure that you are not committing plagiarism by *citing your sources*.  Create a file called SOURCES.md, and put notes in there about where you got code from.  This can matter when you, and some other student, both copy-paste the same thing, and I look at it and think "uh, this is questionable and also identical, that's suspicious".  If you point out where you got it from, that does a lot to armour you against accusations and saves us all a bunch of heartache.




## About Readable Code

I view this as a very practical class, about practical skills, for making practical things.  I will evaluate your code readability as if I was a senior dev, or your boss, and you are a junior employee, perhaps a coop or intern.

* This is a warmup assignment so I will be more tolerant than usual
* In future assignments, unreadable code will be treated as broken code; use this assignment as practice
* There is **no excuse** for bad indentation, it should be perfect
* There is no excuse for really really bad variable names
    * variable names should have reasonable detail
        * most variable names should not be one letter long (there are exceptions)
        * most variable names should not be 50 letters long (there are exceptions)
    * variable names that are outright lies are bad
        * e.g. a variable called "str" that stores an object
        * e.g. a variable called "username" that stores an article name
        * e.g. a variable called "input" that stores output
    * completely uninformative variable names are bad
        * e.g. a variable called "stuff" or "variable"
        * although if the variable really could store anything at all, then be vague!  don't lie!

## Statement To Grader

Include a file called `STATEMENT_TO_GRADER.md`.

This should start with the sentence "I believe I have completed 100% of the requirements for the ____ tier" (and fill that in with "PASS" or "SATIS" or "EXEMP").

It's fine if that's the only thing you write.  If you have other things to say, that's fine too, this is a good place for that.


## Detailed Requirements For Grades

As outlined below, you should choose a tier of grade to aim for, and fully complete that tier.  There are no marks for getting partway from one tier to the next, and there are no part marks for doing "most of" the PASS tier.  One or two little mistakes is usually fine, but if you're only halfway done a tier, then you don't get that tier, you're at the next level down.

I've seen some projects in the past that basically didn't work.  ChatGPT says that the words I'd use to describe that are "unprofessional" and "disrespectful", and I'm supposed to be more .  â˜¹

Also note that I would rather you get great marks than poor ones, and I'm available for help, though not in the last 48h before the due date.


### PASS requirements

Complete all of the following to get a PASS grade, worth 50%.

* Statement to Grader
* You need all of the following routes working:
    * `GET /`: shows a link to at least one article and a link to the create page
    * `GET /article/:articlename`: shows the article, both title and contents
        * has links to delete, edit, and root
    * `GET /article/:articlename/edit`: edit page, with old content pre-populated, no ability to edit the name
    * `POST /article/:articlename/edit`: does the edit, redirects to the edited article
    * `GET /article/:articlename/delete`: shows a page asking if you really want to delete
    * `POST /article/:articlename/delete`: actually deletes, redirects to root
    * `GET /newarticle`: shows a form to create a new article
    * `POST /newarticle`: creates the article, redirects to the created article
* You need some degree of validation
    * no empty article titles
    * no inappropriate characters in article titles
        * you must decide on some reasonable limits on what characters can be in a title, and enforce that
    * no empty article contents
    * no *modifying* the title of a article, when editing
    * no modifying or deleting articles that do not yet exist
    * no creating articles that already exist
* When any of the above validation rules are broken, you must communicate that to the user somehow
    * I suggest setting an appropriate status and doing a `res.send` with the error message
    * it's sloppy, but it's good enough for PASS-tier
    * also when the user asks for an article that doesn't exist, make sure that gets a sane error message
* Solving any of the above problems with front-end JS does not count, so I suggest avoiding it entirely
* Code must be readable enough that it doesn't make me want to fire you



### SATIS

Complete all of the following to get a SATISFACTORY grade, worth 75%.

* Statement to Grader
* All of the PASS requirements
* Improved Homepage
    * fix up the root page (`GET /`) so that it shows up to 5 random pages (or less, if less exist)
    * and add 2 more pages to the database file, so that I have something to look at when grading
* Add search functionality
    * on the root page (`GET /`), add a form to Search
    * add a route for this form to go to
        * think carefully about what HTTP method is appropriate, and why
            * add a brief comment in `STATEMENT_TO_GRADER.md` about why you chose what you chose.
        * come up with a path that doesn't conflict anything else and is reasonable
        * that route should ask the DB to do the search, get the results, and then render those results
        * on the Search Result Page, we should see a link to every appropriate article, with the title, and the number of mentions
* Auto Linkification
    * for this autolinkification section, a "word" is any set of non-whitespace characters, with whitespace on either side
        * here are four (4) different words: `word`, `1.346`, `looks-like-three-words(butcountsasone)`, `!`
    * any word in wiki contents that looks like an external link (starts with `http://` or `https://`) should be automatically made into a clickable link
    * any word in wiki contents that looks like a wikilink should be automatically made intoa clickable wikilink
        * if a word is both a wikilink and an external link, treat it ONLY as an external link
        * wikilinks are any word that starts with a capital letter, has no spaces (duh it's a word), and includes at least two capital letters total and at least one lowercase letter
            * `WikiLink` is a wikilink
            * `Wikilink` and `wiKiLinK` are both NOT wikilinks
            * `RADAR` is not a wikilink
        * this is approximately the rules for internal links from the original wiki, known as Ward's Wiki or the C2 wiki
    * should this be done at creation time or at read time?  what are the tradeoffs?
* Auto Article Creation
    * if a user clicks on a wikilink that links to a non-existent article (or they enter a URL for a non-existent article), redirect them to a creation page with the article title already filled in
* Code should be readable enough that I feel good about actively recommending that we keep you after your probation


### EXEMP

Complete all of the following to get an EXEMPLARY grade, worth 100%.  It was never supposed to be easy.


* Statement to Grader
* All of the PASS requirements
* All of the SATIS requirements
* Add working History functionality
    * every time an article is saved, a version is saved to the database
        * each has a unique key of some kind that identifies it
            * maybe just use `Math.random().toString().slice(2)` to get a random string
        * keep track of the order of the versions that got saved
            * OPTIONALLY also note the timestamps
    * when normally asking for an article, the latest version is displayed of course
    * normal pages have a History link, near the existing Delete / Edit / Home buttons
        * that goes to `GET /article/:articlename/history`
            * this page lists all the versions of the article, showing the unique keys
                * OPTIONALLY: also show the timestamp
            * each version is a link to `GET /article/:articlename/history/:versionid`
    * when displaying `GET /article/:articlename/history/:versionid`....
        * disable the Delete and Edit buttons, and add a button to "Return To Current"
    * History functionality will require you to **substantially** modify the `fake-wiki-db.js` file
        * because this may break everything, I strongly suggest making a clear commit in your git history at the point where SATIS is 100% done, before you start EXEMP
        * personally, I took this approach:
            * I started by planning a different DB format, and heavily patching the DB methods so that they'd use the new format, and getting all the old code working
            * only then did I start thinking about the new routes, and the new DB methods for those routes
* Code quality and readability should aim to be at a level I'd expect from one of my peers
